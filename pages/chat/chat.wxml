<!-- pages/chat/chat.wxml -->
<view class="container">
	<scroll-view class="chat-area" scroll-y="true" scroll-with-animation="true" scroll-top="{{scrollTop}}">
		<view wx:for="{{messages}}" wx:key="index" class="message {{item.sender === 'user' ? 'user' : 'bot'}}">
			<!-- å¤´åƒ -->
			<view class="avatar {{item.sender === 'user' ? 'user-avatar' : 'bot-avatar'}}"></view>

			<!-- æ°”æ³¡ -->
			<view class="bubble {{item.sender === 'user' ? 'user-bubble' : 'bot-bubble'}}">
				<text wx:if="{{item.type != 'image'}}">{{item.content}}</text>
				<image wx:if="{{item.type === 'image'}}" src="{{item.content}}" mode="aspectFit" class="message-image"></image>
			</view>
		</view>
	</scroll-view>
</view>
<!-- è¾“å…¥åŒºåŸŸ -->
<view class="input-area">
	<input class="input-box" placeholder="è¯·è¾“å…¥æ¶ˆæ¯" bindinput="handleInput" value="{{inputMessage}}" />
	<button class="upload-button" bindtap="chooseImage" style="width: 104rpx; height: 70rpx; display: flex; box-sizing: border-box; left: 0rpx; top: 0rpx">ğŸ“·</button>
	<button class="send-button" bindtap="sendMessage" style="width: 138rpx; height: 70rpx; display: flex; box-sizing: border-box; left: 0rpx; top: 0rpx">å‘é€</button>
</view>
<!-- </view> -->